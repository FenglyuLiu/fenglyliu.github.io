---
const { src, alt = '', caption = '', width = 'full' } = Astro.props
const widthClass = width === 'half' ? 'w-1/2 mx-auto' : 'w-full'
---
<figure class="my-6">
<img src={src} alt={alt} loading="lazy" class={`rounded-md ${widthClass} max-w-full h-auto`} />
{caption && <figcaption class="text-xs opacity-70 mt-2">{caption}</figcaption>}
</figure>

<style>
  /* 移动端图片优化 */
  @media (max-width: 768px) {
    figure {
      margin: 1rem 0;
    }
    
    figure img {
      max-width: 100%;
      height: auto;
      width: 100%;
    }
  }
</style>
